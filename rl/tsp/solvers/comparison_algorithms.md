| **算法**           | **蚁群算法 (Ant Colony Optimization)**                                                                                                                                                                                                                                      | **进化算法 (Evolutionary Algorithm)**                                                                                                                                                                                                                                                                                                                                                                                                                                    | **模拟退火算法 (Simulated Annealing)**                                                                                                                                                                                                                                                                                                                                                                                                                                           | **Q-learning 算法**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **迭代过程与公式** | **1. 初始化信息素**：<br> $\tau_{ij}(0) = \tau_0$，所有路径的信息素初始值设为 $\tau_0$。<br> **2. 蚂蚁构建解**：<br> 每只蚂蚁从起始节点出发，依次选择下一个节点 $j$ 的概率为：<br> $p_{ij}^k = \frac{[\tau_{ij}]^\alpha [\eta_{ij}]^\beta}{\sum_{l \in \text{允许节点}} [\tau_{il}]^\alpha [\eta_{il}]^\beta}$，<br> 其中 $\alpha$ 控制信息素的重要性，$\beta$ 控制启发式信息的重要性，$\eta_{ij} = \frac{1}{d_{ij}}$ 为启发式信息，$d_{ij}$ 为节点 $i$ 到节点 $j$ 的距离。<br> **3. 评估解质量**：<br> 计算每只蚂蚁构建的解的质量 $L_k$（例如路径长度）。<br> **4. 更新信息素**：<br> 全局更新公式：<br> $\tau_{ij}(t+1) = (1 - \rho) \tau_{ij}(t) + \sum_{k=1}^{m} \Delta \tau_{ij}^k$，<br> 其中 $\rho$ 为信息素挥发因子，$m$ 为蚂蚁数量， $\Delta \tau_{ij}^k = \frac{Q}{L_k}$ 如果蚂蚁 $k$ 经过路径 $(i,j)$，否则为 $0$。<br> **5. 循环迭代**：<br> 重复步骤 2-4 直到满足终止条件（如达到最大迭代次数或找到满意解）。 | **1. 初始化种群**：<br> 随机生成初始种群 $P_0$，每个个体代表一个可能的解。<br> **2. 适应度评估**：<br> 计算每个个体的适应度 $f(x)$，评估其在当前问题中的表现。<br> **3. 选择操作**：<br> 根据适应度选择父代个体，常用方法包括轮盘赌选择、锦标赛选择等。<br> **4. 交叉操作**：<br> 对选择的父代进行交叉（如单点交叉、两点交叉或均匀交叉），生成子代个体。<br> **5. 变异操作**：<br> 以一定的变异概率 $P_m$ 对子代个体的某些基因进行随机变异，产生新的个体。<br> **6. 生成新种群**：<br> 将子代个体与父代个体按一定策略（如精英策略）组合，形成新一代种群 $P_{t+1}$。<br> **7. 循环迭代**：<br> 重复步骤 2-6 直到满足终止条件（如达到最大代数或适应度阈值）。 | **1. 初始化**：<br> 选择初始解 $S_0$，设定初始温度 $T_0$，定义冷却速率 $\alpha$（如 $0.9$），设定终止温度 $T_{\text{min}}$。<br> **2. 生成新解**：<br> 根据当前解 $S_t$，通过小范围扰动生成新解 $S'$。扰动方法视具体问题而定，如交换两个元素的位置。<br> **3. 计算能量差**：<br> 计算新解的能量差 $\Delta E = E(S') - E(S_t)$，其中 $E$ 是目标函数（如路径长度）。<br> **4. 决策接受新解**：<br> 如果 $\Delta E \leq 0$，接受新解 $S'$；否则，以概率 $P = e^{-\Delta E / T}$ 接受新解，其中 $T$ 是当前温度。<br> **5. 更新温度**：<br> 根据冷却计划更新温度，常用的冷却公式为：<br> $T_{t+1} = \alpha T_t$。<br> **6. 循环迭代**：<br> 重复步骤 2-5 直到温度低于 $T_{\text{min}}$ 或达到最大迭代次数。 | **1. 初始化**：<br> 初始化 Q 表 $Q(s, a) = 0$ 对于所有状态 $s$ 和动作 $a$，选择初始状态 $s_0$，设定学习率 $\alpha$、折扣因子 $\gamma$ 和探索率 $\epsilon$。<br> **2. 选择动作**：<br> 在当前状态 $s_t$ 下，根据 $\epsilon$-贪心策略选择动作 $a_t$：<br> - 以概率 $1 - \epsilon$ 选择 $\arg\max_a Q(s_t, a)$（利用）。<br> - 以概率 $\epsilon$ 随机选择一个动作（探索）。<br> **3. 执行动作并获取反馈**：<br> 执行动作 $a_t$，观察下一个状态 $s_{t+1}$ 和奖励 $r_{t+1}$。<br> **4. 更新 Q 值**：<br> 根据贝尔曼方程更新 Q 值：<br> $Q(s_t, a_t) \leftarrow Q(s_t, a_t) + \alpha \left[ r_{t+1} + \gamma \max_{a'} Q(s_{t+1}, a') - Q(s_t, a_t) \right]$<br> **5. 转移到下一个状态**：<br> 设定 $s_t = s_{t+1}$。<br> **6. 循环迭代**：<br> 重复步骤 2-5 直到满足终止条件（如达到最大迭代次数或 Q 值收敛）。 |
| **收敛原理**       | - **信息素积累与挥发**：通过信息素的局部增强（好的路径被多只蚂蚁经过）和全局挥发，优质路径的信息素浓度逐渐增加，而劣质路径的信息素浓度逐渐减少。<br> - **全局与局部搜索平衡**：信息素挥发防止过早收敛到局部最优，信息素积累引导搜索向全局最优方向收敛。<br> - **反馈机制**：蚂蚁路径选择的正反馈机制促进搜索集中于最优路径区域，最终收敛到全局最优解或近似最优解。 | - **选择与适应度提升**：通过自然选择机制，适应度高的个体更有可能被选择为父代，逐步提升整个种群的平均适应度。<br> - **遗传多样性维护**：交叉与变异操作引入遗传多样性，防止种群陷入局部最优。<br> - **迭代进化**：随着代数的增加，种群逐步进化，适应度不断提升，最终收敛到最优解或近似最优解。 | - **温度递减控制搜索精度**：随着温度的逐渐降低，系统接受较差解的概率减少，搜索过程从全局搜索逐步转向局部搜索。<br> - **避免局部最优**：高温阶段允许系统跳出局部最优，低温阶段确保系统收敛到全局最优或近似最优解。<br> - **冷却计划的影响**：冷却速率 $\alpha$ 影响收敛速度与解的精度，适当的冷却  

实验：  
1.meaningless?  
  ->compare with or without the step returing to the starting city because the last step is dynamic?  


2.same reward:  
     ->1/distance, -distance
   

